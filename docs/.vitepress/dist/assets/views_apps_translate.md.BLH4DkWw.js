import{$ as I,aG as J,a as T,r as $,ax as Z,ab as i,U as k,V as F,c as t,Z as s,u as p,G as f,aA as H,a4 as P}from"./chunks/framework.BCx5KhB0.js";import{n as K,m as y}from"./chunks/theme.prGICJH3.js";const M={class:"translate-box"},X={__name:"Translate",setup(W){const o=J("translate",{mode:"1",autoCopy:!0,autoPaste:!1,hasSelectedPaste:!1,prefix:"",suffix:""}),A=T([{value:"1",label:"小驼峰"},{value:"2",label:"大驼峰"},{value:"3",label:"小写+下划线"},{value:"4",label:"大写+下划线"},{value:"5",label:"不做处理"}]),h=T([{value:!0,label:"是"},{value:!1,label:"否"}]),c=$(""),u=$("");let C="";const{text:te,copy:N,copied:O,isSupported:oe}=Z(),R=a=>{a.target.value&&!o.value.hasSelectedPaste&&(o.value.hasSelectedPaste=!0,K.warning({message:"通知",description:"请在浏览器中允许查看复制到剪贴板的文本和图像",duration:10}),navigator.clipboard.readText())},g=()=>{u.value=U(C),u.value&&o.value.autoCopy&&_(u.value)},V=async()=>{if(o.value.autoPaste)try{const a=await navigator.clipboard.readText();a&&(c.value=a,w())}catch(a){console.error("无法读取剪贴板内容:",a)}},w=async a=>{if(!c.value){u.value="";return}u.value=await B(),u.value&&o.value.autoCopy&&_(u.value)},B=async()=>{try{const a=`https://api.oioweb.cn/api/txt/QQFanyi?sourceText=${c.value}`,{isFetching:e,error:d,data:n}=await H(a).get().json(),{code:l,result:v,msg:m}=n==null?void 0:n.value;if(l===200)return C=v==null?void 0:v.targetText.split("/")[0].replace(/[.-]/g," "),U(C)||"";y.error(m||"翻译失败，请检查重试")}catch{y.error("翻译失败，请检查重试")}},U=a=>{a=D(a);const{mode:e}=o.value;return e==="1"?z(a):e==="2"?G(a):e==="3"?Q(a):e==="4"?q(a):a},D=a=>{const{prefix:e,suffix:d}=o.value,n=e.replace(/\./g,""),l=d.replace(/\./g,"");return n&&l?`${n} ${a} ${l}`:n?`${n} ${a}`:l?`${a} ${l}`:a},_=a=>{N(a),O&&y.success("复制成功")},j=()=>{c.value="",u.value=""};function z(a){const e=a.replace(/[\s_]+(\w)/g,(n,l)=>l.toUpperCase());return e.charAt(0).toLowerCase()+e.slice(1)}function G(a){const e=a.replace(/[\s_]+(\w)/g,(n,l)=>l.toUpperCase());return e.charAt(0).toUpperCase()+e.slice(1)}function Q(a){return a.toLowerCase().replace(/\s+/g,"_")}function q(a){return a.toUpperCase().replace(/\s+/g,"_")}return(a,e)=>{const d=i("a-radio-group"),n=i("a-form-item"),l=i("a-col"),v=i("a-select"),m=i("a-input"),b=i("a-row"),E=i("a-form"),S=i("a-textarea"),x=i("a-button");return k(),F("div",M,[t(E,{model:p(o),"label-col":{style:{width:"140px"}},"wrapper-col":{span:16}},{default:s(()=>[t(b,{gutter:20},{default:s(()=>[t(l,{span:6},{default:s(()=>[t(n,{label:"自动粘贴至原文",tooltip:"开启后，当鼠标聚焦至原文输入框时，会自动识别剪切板，将剪切板内容粘贴至原文处"},{default:s(()=>[t(d,{value:p(o).autoPaste,"onUpdate:value":e[0]||(e[0]=r=>p(o).autoPaste=r),options:h,onChange:R},null,8,["value","options"])]),_:1})]),_:1}),t(l,{span:6},{default:s(()=>[t(n,{label:"译文模式",tooltip:"以何种格式输出译文"},{default:s(()=>[t(v,{value:p(o).mode,"onUpdate:value":e[1]||(e[1]=r=>p(o).mode=r),options:A,onChange:g},null,8,["value","options"])]),_:1})]),_:1}),t(l,{span:6},{default:s(()=>[t(n,{label:"自动复制译文",tooltip:"开启后，在切换模式、修改前后缀时，会自动复制译文到剪贴板"},{default:s(()=>[t(d,{value:p(o).autoCopy,"onUpdate:value":e[2]||(e[2]=r=>p(o).autoCopy=r),options:h},null,8,["value","options"])]),_:1})]),_:1}),t(l,{span:6},{default:s(()=>[t(n,{label:"译文前后缀",tooltip:"拼接在译文前后的内容，请酌情添加"},{default:s(()=>[t(b,{gutter:6},{default:s(()=>[t(l,{span:12},{default:s(()=>[t(m,{value:p(o).prefix,"onUpdate:value":e[3]||(e[3]=r=>p(o).prefix=r),placeholder:"输入前缀",onChange:g},null,8,["value"])]),_:1}),t(l,{span:12},{default:s(()=>[t(m,{value:p(o).suffix,"onUpdate:value":e[4]||(e[4]=r=>p(o).suffix=r),placeholder:"输入后缀",onChange:g},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),t(b,{gutter:20},{default:s(()=>[t(l,{span:12},{default:s(()=>[f(" 原文： "),t(S,{value:c.value,"onUpdate:value":e[5]||(e[5]=r=>c.value=r),placeholder:"请输入、粘贴需要翻译的内容",autoSize:{minRows:10,maxRows:16},onChange:w,onFocus:V},null,8,["value"]),t(x,{onClick:e[6]||(e[6]=r=>_(c.value)),type:"primary",class:"copy-btn"},{default:s(()=>[f("复制原文")]),_:1}),t(x,{onClick:e[7]||(e[7]=r=>j(c.value)),type:"primary",danger:"",class:"copy-btn"},{default:s(()=>[f("清空")]),_:1})]),_:1}),t(l,{span:12},{default:s(()=>[f(" 译文： "),t(S,{value:u.value,"onUpdate:value":e[8]||(e[8]=r=>u.value=r),placeholder:"自动识别并翻译",readonly:"",autoSize:{minRows:10,maxRows:16}},null,8,["value"]),t(x,{onClick:e[9]||(e[9]=r=>_(u.value)),type:"primary",class:"copy-btn"},{default:s(()=>[f("复制译文")]),_:1})]),_:1})]),_:1})])}}},Y=I(X,[["__scopeId","data-v-2d8bc865"]]),ee=P("h1",{id:"翻译",tabindex:"-1"},[f("翻译 "),P("a",{class:"header-anchor",href:"#翻译","aria-label":'Permalink to "翻译"'},"​")],-1),re=JSON.parse('{"title":"翻译","description":"","frontmatter":{"layout":"doc","sidebar":false,"outline":0,"footer":false,"prev":false,"next":false,"pageClass":"translate-layout","editLink":false,"lastUpdated":false},"headers":[],"relativePath":"views/apps/translate.md","filePath":"views/apps/translate.md","lastUpdated":1713071226000}'),ae={name:"views/apps/translate.md"},ne=Object.assign(ae,{setup(W){return(L,o)=>(k(),F("div",null,[ee,t(Y)]))}});export{re as __pageData,ne as default};
