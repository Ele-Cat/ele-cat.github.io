import{u as I,e as J,f as H,a as y,g as K}from"./chunks/theme.CAUEIqHt.js";import{_ as M,a5 as h,p as $,C as i,c as k,o as F,G as t,w as s,k as p,a as f,j as P}from"./chunks/framework.mXguc-v6.js";const X={class:"translate-box"},Y={__name:"Translate",setup(W){const o=I("translate",{mode:"1",autoCopy:!0,autoPaste:!1,hasSelectedPaste:!1,prefix:"",suffix:""}),N=h([{value:"1",label:"小驼峰"},{value:"2",label:"大驼峰"},{value:"3",label:"小写+下划线"},{value:"4",label:"大写+下划线"},{value:"5",label:"不做处理"}]),x=h([{value:!0,label:"是"},{value:!1,label:"否"}]),d=$(""),u=$("");let _="";const{copy:O,copied:R}=J(),j=a=>{a.target.value&&!o.value.hasSelectedPaste&&(o.value.hasSelectedPaste=!0,H.warning({message:"通知",description:"请在浏览器中允许查看复制到剪贴板的文本和图像",duration:10}),navigator.clipboard.readText())},g=()=>{u.value=U(_),u.value&&o.value.autoCopy&&m(u.value)},A=async()=>{if(o.value.autoPaste)try{const a=await navigator.clipboard.readText();a&&(d.value=a,S())}catch(a){console.error("无法读取剪贴板内容:",a)}},S=async a=>{if(!d.value){u.value="";return}u.value=await B(),u.value&&o.value.autoCopy&&m(u.value)},B=async()=>{try{const a=`https://api.oioweb.cn/api/txt/QQFanyi?sourceText=${d.value}`,{isFetching:e,error:c,data:n}=await K(a).get().json(),{code:l,result:v,msg:C}=n==null?void 0:n.value;if(l===200)return _=v==null?void 0:v.targetText.split("/")[0].replace(/[.-]/g," "),U(_)||"";y.error(C||"翻译失败，请检查重试")}catch{y.error("翻译失败，请检查重试")}},U=a=>{a=D(a);const{mode:e}=o.value;return e==="1"?z(a):e==="2"?Q(a):e==="3"?q(a):e==="4"?E(a):a},D=a=>{const{prefix:e,suffix:c}=o.value,n=e.replace(/\./g,""),l=c.replace(/\./g,"");return n&&l?`${n} ${a} ${l}`:n?`${n} ${a}`:l?`${a} ${l}`:a},m=a=>{O(a),R&&y.success("复制成功")},V=()=>{d.value="",u.value=""};function z(a){const e=a.replace(/[\s_]+(\w)/g,(n,l)=>l.toUpperCase());return e.charAt(0).toLowerCase()+e.slice(1)}function Q(a){const e=a.replace(/[\s_]+(\w)/g,(n,l)=>l.toUpperCase());return e.charAt(0).toUpperCase()+e.slice(1)}function q(a){return a.toLowerCase().replace(/\s+/g,"_")}function E(a){return a.toUpperCase().replace(/\s+/g,"_")}return(a,e)=>{const c=i("a-radio-group"),n=i("a-form-item"),l=i("a-col"),v=i("a-select"),C=i("a-input"),b=i("a-row"),G=i("a-form"),T=i("a-textarea"),w=i("a-button");return F(),k("div",X,[t(G,{model:p(o),"label-col":{style:{width:"140px"}},"wrapper-col":{span:16}},{default:s(()=>[t(b,{gutter:20},{default:s(()=>[t(l,{span:6},{default:s(()=>[t(n,{label:"自动粘贴至原文",tooltip:"开启后，当鼠标聚焦至原文输入框时，会自动识别剪切板，将剪切板内容粘贴至原文处"},{default:s(()=>[t(c,{value:p(o).autoPaste,"onUpdate:value":e[0]||(e[0]=r=>p(o).autoPaste=r),options:x,onChange:j},null,8,["value","options"])]),_:1})]),_:1}),t(l,{span:6},{default:s(()=>[t(n,{label:"译文模式",tooltip:"以何种格式输出译文"},{default:s(()=>[t(v,{value:p(o).mode,"onUpdate:value":e[1]||(e[1]=r=>p(o).mode=r),options:N,onChange:g},null,8,["value","options"])]),_:1})]),_:1}),t(l,{span:6},{default:s(()=>[t(n,{label:"自动复制译文",tooltip:"开启后，在切换模式、修改前后缀时，会自动复制译文到剪贴板"},{default:s(()=>[t(c,{value:p(o).autoCopy,"onUpdate:value":e[2]||(e[2]=r=>p(o).autoCopy=r),options:x},null,8,["value","options"])]),_:1})]),_:1}),t(l,{span:6},{default:s(()=>[t(n,{label:"译文前后缀",tooltip:"拼接在译文前后的内容，请酌情添加"},{default:s(()=>[t(b,{gutter:6},{default:s(()=>[t(l,{span:12},{default:s(()=>[t(C,{value:p(o).prefix,"onUpdate:value":e[3]||(e[3]=r=>p(o).prefix=r),placeholder:"输入前缀",onChange:g},null,8,["value"])]),_:1}),t(l,{span:12},{default:s(()=>[t(C,{value:p(o).suffix,"onUpdate:value":e[4]||(e[4]=r=>p(o).suffix=r),placeholder:"输入后缀",onChange:g},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),t(b,{gutter:20},{default:s(()=>[t(l,{span:12},{default:s(()=>[e[12]||(e[12]=f(" 原文： ")),t(T,{value:d.value,"onUpdate:value":e[5]||(e[5]=r=>d.value=r),placeholder:"请输入、粘贴需要翻译的内容",autoSize:{minRows:10,maxRows:16},onChange:S,onFocus:A},null,8,["value"]),t(w,{onClick:e[6]||(e[6]=r=>m(d.value)),type:"primary",class:"copy-btn"},{default:s(()=>e[10]||(e[10]=[f("复制原文")])),_:1}),t(w,{onClick:e[7]||(e[7]=r=>V(d.value)),type:"primary",danger:"",class:"copy-btn"},{default:s(()=>e[11]||(e[11]=[f("清空")])),_:1})]),_:1}),t(l,{span:12},{default:s(()=>[e[14]||(e[14]=f(" 译文： ")),t(T,{value:u.value,"onUpdate:value":e[8]||(e[8]=r=>u.value=r),placeholder:"自动识别并翻译",readonly:"",autoSize:{minRows:10,maxRows:16}},null,8,["value"]),t(w,{onClick:e[9]||(e[9]=r=>m(u.value)),type:"primary",class:"copy-btn"},{default:s(()=>e[13]||(e[13]=[f("复制译文")])),_:1})]),_:1})]),_:1})])}}},Z=M(Y,[["__scopeId","data-v-2d8bc865"]]),oe=JSON.parse('{"title":"翻译","description":"","frontmatter":{"layout":"doc","sidebar":false,"outline":0,"footer":false,"prev":false,"next":false,"pageClass":"translate-layout","editLink":false,"lastUpdated":false},"headers":[],"relativePath":"views/apps/translate.md","filePath":"views/apps/translate.md"}'),ee={name:"views/apps/translate.md"},le=Object.assign(ee,{setup(W){return(L,o)=>(F(),k("div",null,[o[0]||(o[0]=P("h1",{id:"翻译",tabindex:"-1"},[f("翻译 "),P("a",{class:"header-anchor",href:"#翻译","aria-label":'Permalink to "翻译"'},"​")],-1)),t(Z)]))}});export{oe as __pageData,le as default};
